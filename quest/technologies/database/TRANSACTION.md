# トランザクションについて説明できる

## 1. トランザクション

トランザクションとは何か、何のためにあるものかを、データベース初心者にわかるように説明してください。

```
複数のデータを登録したいとき、1回目の登録が成功したとしても、2回目の登録がうまくいかない場合がある。
このとき、1回目の登録だけがデータベースに反映されると都合が悪いときもある。
トランザクションを使えば、途中でエラーが発生した場合、その間のクエリはすべて巻き戻し（ロールバック）される。
```

## 2. トランザクションの実行

employees データベースに接続してください。次に、トランザクションを実行してください。
```sql
mysql> BEGIN;
```

## 3. ロールバック

任意のテーブルにデータを追加してください。検索を実行し、データが追加されていることを確認してください。

次に、ロールバックを実行してください。検索を実行し、データの追加がされていないことを確認してください。
```sql
mysql> INSERT INTO employees (emp_no, birth_date, first_name, last_name, gender, hire_date) VALUES (500000, '1998-01-01', 'Tanaka', 'Taro', 'M', '1998-01-01');

mysql> ROLLBACK;

```

## 4. コミット

トランザクションを実行してください。任意のテーブルにデータを追加してください。検索を実行し、データが追加されていることを確認してください。

次に、コミットを実行してください。検索を実行し、データが追加されていることを確認してください。

```sql
mysql> BEGIN;
mysql> INSERT INTO employees (emp_no, birth_date, first_name, last_name, gender) VALUES(500000, '2000-01-01' 'Tanaka', 'Taro', 'M');
mysql> COMMIT;
```


[「トランザクション張っておけば大丈夫」と思ってませんか？ バグの温床になる、よくある実装パターン](https://zenn.dev/tockn/articles/4268398c8ec9a9)

[MySQLのトランザクションと分離レベル](https://qiita.com/BooookStore/items/b71b08624e07b95e1b45)
