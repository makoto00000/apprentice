# テーブルを定義できる

テーブル定義では各テーブルに対して、テーブル名、カラム名、データ型、NULL(NULL OK の場合のみ YES と記載)、キー（キーが存在する場合、PRIMARY/INDEX のどちらかを記載）、初期値（ある場合のみ記載）、AUTO INCREMENT（ある場合のみ YES と記載）、外部キー制約、ユニークキー制約を定義します。

## 1. データ型

データ型とは何か、データベース初心者にわかるように説明してください。

```
保存するデータの型のこと。文字列型、数値型、日付型などがある。
例えば数値型（INT型）を設定した場合、そのカラムには数値しか保存されないことが保証される。
```

## 2. NULL

NULL とは何か、データベース初心者にわかるように説明してください。

```
データがなくても良いかどうかを事前に設定しておける。
データが必ず存在しなければならない場合（ユーザーテーブルのメールアドレスなど）にはFalse、
データがなくても良い場合（ユーザーテーブルのニックネームなど）にはTrueを設定する。
```

## 3. プライマリーキー

プライマリーキーとは何か、データベース初心者にわかるように説明してください。

```
データベースのテーブルにおいて、行・レコードを一意に識別するための項目。
一般的にはIDというカラムに設定され、このIDを指定することで、このテーブルでの一つのレコードを指定することができる。
```

## 4. 初期値

テーブル定義における初期値(デフォルト値)とは何か、データベース初心者にわかるように説明してください。

```
初期値を設定しておいたカラムには、データの入力がなかった場合、設定しておいた初期値が入力されるようになる。
```

## 5. AUTO INCREMENT

AUTO INCREMENT とは何か、データベース初心者にわかるように説明してください。

```
これをつけると、カラムにデータが登録された時点で、自動的に連番で番号が割り当てられる。ここの数値が同一テーブル内で重複することはないので、よくIDに対して付与される。
```

## 6. 外部キー制約

外部キー制約とは何か、データベース初心者にわかるように説明してください。

```
別テーブルのデータと連動した値が入力されるようなカラムに、外部キー制約を設定する。
連動したテーブルで値の変更があった場合には、外部キー制約が設定されているカラムのデータも変更される。
データベース全体で、データの整合性を取るために必要。
```

## 7. ユニークキー制約

ユニークキー制約とは何か、データベース初心者にわかるように説明してください。

```
他のデータとの重複を許可しない設定。例えば、メールアドレスや電話番号などは、基本的に重複することはないので、この設定をしておく。
```

## 8. テーブル定義

EC サイトの ER 図を、テーブル定義しましょう。各テーブルのテーブル名、カラム名、データ型、NULL(NULL OK の場合のみ YES と記載)、キー（キーが存在する場合、PRIMARY/INDEX のどちらかを記載）、初期値（ある場合のみ記載）、AUTO INCREMENT（ある場合のみ YES と記載）、外部キー制約、ユニークキー制約を設定してください。

以下、アウトプット例です。

テーブル：users

| カラム名 | データ型     | NULL | キー    | 初期値 | AUTO INCREMENT |
| -------- | ------------ | ---- | ------- | ------ | -------------- |
| id       | bigint(20)   |      | PRIMARY |        | YES            |
| name     | varchar(100) |      |         |        |                |
| email    | varchar(100) |      | INDEX   |        |                |

- ユニークキー制約：email カラムに対して設定

テーブル：comments

| カラム名 | データ型   | NULL | キー    | 初期値 | AUTO INCREMENT |
| -------- | ---------- | ---- | ------- | ------ | -------------- |
| id       | bigint(20) |      | PRIMARY |        | YES            |
| user_id  | bigint(20) | YES  | INDEX   | 0      |                |
| content  | text       |      |         |        |                |

- 外部キー制約：user_id に対して、users テーブルの id カラムから設定

なお、アウトプットはテキストでしていただいてもよいですし、SpreadSheet 等を用いて表形式でしていただいても大丈夫です。


テーブル：users
| カラム名 | データ型    | NULL | キー | 初期値 | AUTO INCREMENT |
| -------- | ----------- | ---- | ---- | ------ | -------------- |
| id       | bigint(20)  |      | PK   |        | YES            |
| name     | varchar(20) |      |      |        |                |


テーブル：purchases
| カラム名        | データ型   | NULL | キー | 初期値 | AUTO INCREMENT |
| --------------- | ---------- | ---- | ---- | ------ | -------------- |
| id              | bigint(20) |      | PK   |        | YES            |
| item_id         | bigint(20) |      | FK   |        |                |
| user_id         | bigint(20) |      | FK   |        |                |
| purchase_date   | date       |      |      |        |                |
| purchase_number | int(255)   |      |      |        |                |


テーブル：items
| カラム名    | データ型     | NULL | キー | 初期値 | AUTO INCREMENT |
| ----------- | ------------ | ---- | ---- | ------ | -------------- |
| id          | bigint(20)   |      | PK   |        | YES            |
| name        | varchar(255) |      |      |        |                |
| category_id | bigint(20)   |      | FK   |        |                |
| price       | int(20)      |      |      |        |                |


テーブル：item_categories
| カラム名 | データ型    | NULL | キー | 初期値 | AUTO INCREMENT |
| -------- | ----------- | ---- | ---- | ------ | -------------- |
| id       | bigint(20)  |      | PK   |        | YES            |
| name     | varchar(20) |      |      |        |                |

